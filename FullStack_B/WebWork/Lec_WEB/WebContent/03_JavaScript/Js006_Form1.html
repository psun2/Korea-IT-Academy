<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>Form 데이터</title>
    <style>
      div#btnBox {
        position: fixed;
        right: 0px;
        top: 0px;
        margin: 4px;
        border: 1px solid orange;
        width: 180px;
      }
      div#btnBox * {
        margin: 2px;
      }
    </style>
  </head>
  <!-- 
	JavaScript 로 
	다양한 form element 들의 '값을 가져 올수도' 있어야 한며,
	반대로 '값을 입력해야 할수도' 있다.
	
	JavaScript 는 form element 들을 접근할수 있는
	다양한 방법들을 제공한다.  (특히 name 값 활용!)
 -->

  <!-- 
	※ 각 form element별 동작하는 것으로 JS 와 HTML 코드 작성하면서 확인 하기 
 -->

  <script>
    // TODO:

    // 입력값 보여주기
    function showData() {
      var result = '입력결과<br>';

      // form 객체 가져오기
      // var frm = document.forms['myform1'];
      var frm = document.forms.myform1;
      console.log(frm);

      // FIXME: 1. 일반적인 input 값 .value 값
      var username = frm['username'].value;
      username = document.forms['myform1']['username'].value;
      username = frm.username.value;
      username = document.forms.myform1.username.value;
      username = document['forms']['myform1']['username'].value;
      console.log(username);
      result += `이름: ${username}<br />`;

      // FIXME: 2. checkbox 의 값 .checked 로 판단.
      var hobby = '';
      if (frm['drive'].checked) {
        hobby += frm['drive'].value + ',';
      }
      if (frm['music'].checked) {
        hobby += frm['music'].value + ',';
      }
      if (frm['sports'].checked) {
        hobby += frm['sports'].value + ',';
      }

      console.log(frm['drive'].checked);
      console.log(frm['drive'].value);

      result += `취미: ${hobby}<br />`;

      // FIXME: 3. checkbox 동일 name 이 여럿인 경우
      var skill = '';

      // frm['skill'] <== skill 이라는 name을 갖고 있는 form element 들의 array
      console.log('배열반환 : ', frm['skill']); // => name 이 같다면 배열 반환
      console.log(frm['skill'][0].value);

      frm['skill'].forEach((index) => {
        if (index.checked) skill += index.value + ',';
      });

      result += `보유기술: ${skill}<br />`;

      // FIXME: 4. radio : 이 또한 동일 name 으로 구성. 3. 과 유사
      var gender = '';

      frm.gender.forEach((index) => {
        if (index.checked) gender += index.value;
      });

      result += `성별: ${gender}<br />`;

      // FIXME: 5.<select> : 단일 .value 사용
      result += `좋아하는차1: ${frm['cars'].value}<br />`;

      // FIXME: 6.<select> : multiple 3. 과 비슷
      var cars2 = '';
      console.log(frm['cars2']);
      console.log(frm.cars2, typeof frm.cars2);
      console.log(frm.cars2 instanceof Array);

      Array.from(frm.cars2).forEach((index) => {
        if (index.selected) cars2 += index.value + ',';
      });

      // for (let i = 0; i < frm['cars2'].length; i++) {
      //   if (frm['cars2'][i].selected) cars2 += frm['cars2'][i].value + ',';
      // }

      result += `좋아하는차2: ${cars2}<br />`;

      // FIXME: 7.<textarea> : .innerHTML 혹은 .value 로 값을 가져올수 있다.
      // .value : '현재' 사용자가 입력한 값
      // .innerHTML : 'HTML' content의 값

      // result += `메모: ${frm['message'].innerHTML}<br />`;
      result += `메모: ${frm['message'].value}<br />`;

      document.getElementById('result').innerHTML = result;
    }

    // 입력값 셋팅
    function setData() {
      var frm = document.forms['myform1'];

      // FIXME: input
      frm['username'].value = '홍길동';

      // FIXME: checkbox
      frm['drive'].checked = false;
      frm['music'].checked = true;
      frm['sports'].checked = true;

      // FIXME: checkbox (동일 name)
      frm['skill'][0].checked = false;
      frm['skill'][1].checked = true;
      frm['skill'][2].checked = true;

      // FIXME: radio button
      frm['gender'][0].checked = true;

      // FIXME: select (단일)
      frm['cars'].value = 'fiat'; // 해당 value 값으로 바꿔주면 알아서 바뀐다.
      frm['cars'][1].selected = true; // 위와 같은 행동을 할 수 있습니다.

      // FIXME: select (multiple)
      frm['cars2'][0].selected = true;
      frm['cars2'][1].selected = false;
      frm['cars2'][2].selected = true;
      frm['cars2'][3].selected = false;

      // FIXME: textarea : .value .innerHTML
      frm['message'].value = '안녕하세요!';
    }
  </script>

  <body>
    <div id="btnBox">
      <button type="button" onclick="showData();">입력값 보여주기</button>
      <br />
      <button type="button" onclick="setData();">입력값 세팅</button>
      <br />
      <p id="result"></p>
    </div>

    <form name="myform1">
      이름:<br />
      <input type="text" name="username" /><br />
      <br />

      취미:<br />
      <input type="checkbox" name="drive" value="driving" />드라이빙<br />
      <input type="checkbox" name="music" value="music" />음악<br />
      <input type="checkbox" name="sports" value="sports" />운동<br />
      <br />

      보유기술:<br />
      <input type="checkbox" name="skill" value="자바" />JAVA<br />
      <input type="checkbox" name="skill" value="닷넷" />.Net<br />
      <input type="checkbox" name="skill" value="애플" />iOS<br />
      <br />

      성별:<br />
      <input type="radio" name="gender" value="male" />남<br />
      <input type="radio" name="gender" value="female" />여<br />
      <input type="radio" name="gender" value="animal" />케모노<br />
      <br />

      좋아하는 차1:<br />
      <select name="cars">
        <option value="volvo">볼보</option>
        <option value="saab">사브</option>
        <option value="fiat">피아트</option>
        <option value="audi" selected>아우디</option>
      </select>
      <br /><br />

      좋아하는 차2:<br />
      <select name="cars2" size="4" multiple>
        <option value="volvo">볼보</option>
        <option value="saab" selected>사브</option>
        <option value="fiat">피아트</option>
        <option value="audi" selected>아우디</option>
      </select>
      <br /><br />

      메모:<br />
      <textarea name="message" style="width: 200px; height: 100px">
The cat was playing in the garden.</textarea
      >
      <br />

      <!-- <input type="submit" value="제출">  -->
    </form>

    <!-- 
<form name="myform2">
별명:<br>
<input type="text" name="nickname">

<br><br>
<input type="submit" value="제출">

</form>
 -->

    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  </body>
</html>
