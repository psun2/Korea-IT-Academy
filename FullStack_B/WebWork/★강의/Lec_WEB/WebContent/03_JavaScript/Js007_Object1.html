<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>JS Object</title>
</head>
<body>
<h2>JavaScript object 추가</h2>

<p id="demo1"></p>
<p id="demo2"></p>
<p id="demo3"></p>

<script>
// 방법1 : object 타입 변수 선언
var person = {
	firstName : "John",
	lastName : "Doe",
	age : 50,
	score : [77, 80, 65],
	eyeColor : "blue",
	getTotal : function(){
		var sum = 0;
		for(i in this.score){
			sum += this.score[i];
		}
		return sum;
	}
};

document.getElementById("demo1").innerHTML = 
"이름:" + person.firstName + ", 나이" + person.age + ", 총점:" + person.getTotal(); // TODO


// 방법2 : new Object() 로 생성
var person2 = new Object();
person2.firstName = "Jane"   // property 추가가 자유롭다.
person2.lastName = "Doe"
person2.age = 30
person2.score = [77, 80, 65]
person2.eyeColor = "blue"
person2.getTotal = function(){
	var sum = 0;
	for(i in this.score){
		sum += this.score[i]
	}
	return sum;
}


document.getElementById("demo2").innerHTML = 
"이름:" + person2.firstName + ", 나이" + person2.age + ", 총점:" + person2.getTotal();

//위 방법들의 단점은, '한개의 object' 밖에 생성 불가.
// 그러나 다음에 소개할 생성자를 사용하여 object type 자체를 정의할수 있다.

// 방법3 : 생성자(Constructor)로도 가능하다
// JavaScript 에서 객체는 언제나 함수(function) 로 정의됨.
function Person3(firstName, lastName, age, eyeColor){
	this.firstName = firstName;
	this.lastName = lastName;
	this.age = age;
	this.score = [77, 80, 65];
	this.eyeColor = eyeColor;

	// JS 는 함수 안에서 함수 정의 가능하다
	this.getTotal = function(){
		var sum = 0;
		for(i in this.score){
			sum += this.score[i];
		}
		return sum;
	}
}
var mySon = new Person3("Clark", "Kent", 47, "brown");

document.getElementById("demo3").innerHTML = 
"이름:" + mySon.firstName + ", 나이: " + mySon.age + ", 총점:" + mySon.getTotal(); // TODO


/* this 의 정체!
 - JS code 를 소유한(own) object다!
 - '함수 안'에서의 this 는 함수를 소유한(own) object다
 - 'object 안'에서의 this 는  object 그 자신이다.
 - '생성자(constructor) 안'에서의 this 는 그 자체가 값을 갖고 있진 않다.
   	단지, 생성된 새로운 object에서 치환된다.
   	즉 new 로 생성된 새로운 object 가 바로 this 가 된다.
 - this 는 변수가 아니다!! 키워드다!!  따라서 this 의 값을 수정할수 없다
*/


</script>

<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>
</html>


























