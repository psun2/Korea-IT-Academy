<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS Array</title>
  </head>
  <body>
    <h1>Array</h1>
    <script>
      // 배열생성 방법
      // 방법1
      // TODO:
      var points = [40, 100, 1, 5, 25, 10];
      var fruit = ['Banana', 'Orange', 'Apple', 'Mango'];

      // 방법2 : new 사용
      // TODO:
      var cars = new Array('Saab', 'Vlobo', 'BMW');

      document.write(points + '<br>');
      document.write(fruit.toString() + '<br>');
      document.write(cars + '<br>');

      // object 의 property 에 대한 접근 횟수를 줄이는게
      // 성능에 유리하다.

      // TODO:

      for (var i = 0; i < cars.length; i++) {
        document.write(cars[i] + ' ');
      }
      document.write('<br>');

      // TODO:

      var l = cars.length;
      for (var i = 0; i < cars.length; i++) {
        document.write(cars[i] + ' ');
      }
      document.write('<br><hr>');

      // for (  in  )
      for (i in cars) {
        // value가 아닌 index가 담김니다.
        document.write(cars[i] + ' ');
      }
      document.write('<br><hr>');

      // for (  of   )  <-- iterable 객체에 대해, ES6 이상
      for (var v of cars) {
        document.write(v + ' ');
      }
      document.write('<br><hr>');

      //배열.forEach(함수);
      // 배열원소를 하나하나 뽑아내면서 함수호출
      // TODO:
      function myFunction(value) {
        document.write(value + ' ');
      }
      cars.forEach(myFunction);

      cars.forEach((ele) => {
        document.write(ele + ' ');
      });
      document.write('<br>');

      const arr = cars.map((ele) => {
        return ele;
      });
      console.log(arr);
      document.write('<br>');

      // 배열 원소 추가
      // TODO:
      fruit[fruit.length] = 'Melon';
      document.write(fruit + '<br>');

      fruit.push('Lemon'); // ★
      document.write(fruit + '<br>');

      // 현재 변수가 배열인지 아닌지 판단
      // TODO:
      document.write(typeof fruit, '<br>');

      // Array.isArray() : 구 브라우저에서는 동작 안함  (ES5.1부터)
      // TODO:
      document.write(Array.isArray(fruit), '<br>');

      // 구 브라우저에서 동작시키려면 함수 하나만들어 쓰자
      // TODO:
      function isArray(x) {
        console.log(x);
        console.log(x.constructor);
        console.log(x.constructor.toString());
        console.log(x.constructor.toString().indexOf('Array'));
        return x.constructor.toString().indexOf('Array') > -1;
      }
      document.write(isArray(fruit), '<br>');

      // instanceof 연산자 사용
      // TODO:
      document.write(fruit instanceof Array, '<br>');

      // join()
      // FIXME: 배열 안의 원소들을 묶어서 '★하나의 문자열' 로 리턴(반환)
      // TODO:
      document.write(cars.join('***'), '<br>');

      // push() : 배열끝 원소 추가
      // pop() : 배열 끝 원소 추출
      // shift() : 배열 첫 원소 추출
      // unshift() : 배열앞에 원소 추가, 새로운 length 리턴
      // TODO:
      document.write('<hr>');
      document.write(fruit, '<br>');
      document.write(fruit.pop(), '<br>');
      document.write(fruit, '<br>');
      document.write(fruit.shift(), '<br>');
      document.write(fruit, '<br>');
      document.write(fruit.unshift('Lemon'), '<br>');
      document.write(fruit, '<br>');

      // splicing
      //  첫번째 매개변수 : 삽입될 데이터 위치
      //  두번째 매개변수 : 삭제될 데이터 개수
      //  세번째 이후 .. : 삽입될 데이터 들..
      // TODO:
      fruit.splice(2, 0, 'Kiwi', 'Banana');
      document.write(fruit, '<br>');

      fruit.splice(2, 2, 'Grape');
      document.write(fruit, '<br>');

      // 배열 데이터 삭제 : splice 사용
      // TODO:
      fruit.splice(0, 1);
      document.write(fruit, '<br>');
      fruit.splice(1);
      document.write(fruit, '<br>');

      // delete 를 사용하여 배열 원소 삭제

      // TODO:

      // delete 보다는
      // pop(), shift(), splice() 를 사용하길 ㅊㅊ

      // concat()
      // TODO:
      console.log('스프레드 문법', ['Grape', 'Lemon', ...fruit]);
      const fruits = fruit.concat(['Grape', 'Lemon']);
      document.write(fruits, '<br>');

      // slice()
      // 배열의 부분을 추출, 원본에는 영향 안줌
      // TODO:
      document.write(fruits.slice(1), '<br>'); // 1번째 부터 끝까지
      document.write(fruits.slice(1, 3), '<br>'); // 1부터 3 전까지
    </script>

    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  </body>
</html>
