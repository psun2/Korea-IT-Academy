<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>filtering</title>
    <style>
      div {
        border: 1px solid black;
      }
      .selected {
        background-color: yellow;
      }
      #btnbox {
        position: fixed;
        right: 0px;
        top: 0px;
        border: 1px cyan solid;
        width: 150px;
        background-color: rgba(255, 255, 255, 0.7);
      }

      button {
        color: black;
        border: 1px solid black;
        margin: 2px;
      }
    </style>
  </head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script>
    /*
 이미 select 된 element 에 대해 추가적으로 select 하는 (필터링) 하는 함수
 find()
 first()
 last()
 eq()
 filter()
 not() 
 */

    $(document).ready(function () {
      // 버튼 클릭되면 일단 selected 클래스 제거
      $('button').click(function () {
        $('*').removeClass('selected');
      });
      //---------------------------------------
      // first() select 된것들중 첫번째 // :first-child
      $('#btn11').click(function () {
        // TODO:
        $('div').first().addClass('selected');
      });

      // last() select 된것들중 마지막 // :last-child
      $('#btn12').click(function () {
        // TODO:
        $('div').last().addClass('selected');
      });

      // eq(i) 인덱스로 선택 가능 // :nth-child(i)
      $('#btn13').click(function () {
        // TODO:
        $('div').eq(1).addClass('selected');
      });

      // filter() : ~ 중에서 filter 된 요소만 선택
      $('#btn14').click(function () {
        // TODO:
        $('div').filter('.intro').addClass('selected');

        $('#fruits p').filter('#apple').addClass('selected');

        $('#fruits p')
          .filter(function () {
            return this.id === 'kiwi';
          })
          .addClass('selected');
      });

      // find() : 선택 된 것들 중 하위에서 선택합니다.
      // fiter() : 선택된 것들 중에서 선택합니다.
      // find() : filter 와 비교하여 보시기 바랍니다.
      $('#btn16').click(function () {
        $('#fruits').find('[id=kiwi]').addClass('selected'); // ★
      });

      // not() : filter 와 반대  ~ 중에서 not 된 요소만 제외
      $('#btn15').click(function () {
        // TODO:
        $('div').not('.intro').addClass('selected');
      });
    });
  </script>
  <body>
    <h1>필터링</h1>

    <p>paragraph1</p>
    <div class="intro">
      <p>paragraph2-1</p>
      <p>paragraph2-2</p>
    </div>
    <br />

    <div>
      <p>paragraph3-1</p>
      <p>paragraph3-2</p>
    </div>
    <br />

    <div>
      <p>paragraph4-1</p>
      <p>paragraph4-2</p>
    </div>

    <br />

    <div id="fruits">
      <p id="apple">apple</p>
      <p id="kiwi">kiwi</p>
      <p id="pineapple">pineapple</p>
    </div>

    <br />

    <span id="btnbox">
      <button id="btn11">btn11 first()</button>
      <button id="btn12">btn12 last()</button>
      <button id="btn13">btn13 eq()</button>
      <button id="btn14">btn14 filter()</button>
      <button id="btn16">btn15 find()</button>
      <button id="btn15">btn15 not()</button>
    </span>
  </body>
</html>
