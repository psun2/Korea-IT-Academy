<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>DOM bubble/capture</title>
  </head>
  <style>
    ul,
    li {
      padding: 5px;
      margin: 3px;
    }
    ul {
      background-color: pink;
    }
    li {
      background-color: cyan;
    }
  </style>
  <!-- 
element.addEventListener("이벤트", 함수, useCapture)

https://javascript.info/bubbling-and-capturing


window.event 객세 사용
	event.stopPropagation();


-->
  <body>
    <ul>
      <li onclick="show(this);">Coffee</li>
      <li onclick="show(this);">
        Tea
        <ul>
          <li onclick="event.stopPropagation(); show(this);">Black tea</li>
          <li onclick="show(this);">Green tea</li>
        </ul>
      </li>
      <li>Milk</li>
    </ul>

    <script>
      // TODO:
      // text만 보이기 (innerHTML 과는 다르다)
      function show(ele) {
        alert(ele.childNodes[0].nodeValue);
      }
    </script>

    <br />
    <ul id="ad">
      <li>커피</li>
      <li>
        차
        <ul>
          <li>홍차</li>
          <li>녹차</li>
        </ul>
      </li>
      <li>우유</li>
    </ul>

    <script>
      // TODO:
      var li = document.querySelectorAll('ul#ad li');
      // alert(li.length); // 5

      for (var i = 0; i < li.length; i++) {
        // FIXME: bubbling
        // li[i].addEventListener('click', function () {
        //   show(this);
        // });

        // FIXME: capture
        li[i].addEventListener(
          'click',
          function () {
            show(this);
          },
          true,
        );
      }
    </script>

    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  </body>
</html>
